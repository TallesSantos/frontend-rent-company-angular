@if(userIsAdmin()){
<div class="movie">
    <div>
        <p style="display: flex; flex-direction: column">
            <strong class="link" (click)="redirectToDescriptionPage()">{{ movie.name }}</strong>

            <strong>Edit:</strong><input [(ngModel)]="name" type="text" />
        </p>
        <div>
            <strong>Edit image-url: <input [(ngModel)]="imageUrl" type="text" /></strong>
            <img
                class="link"
                (click)="redirectToDescriptionPage()"
                [src]="movie.image_url?.trim()"
                (error)="fallback($event)"
                alt=""
            />
        </div>
        <p style="display: flex; flex-direction: column">
            {{ movie?.description }}

            <strong>Edit:</strong><input [(ngModel)]="description" type="text" />
        </p>

        @if(movie !== null && movie?.client !== null && user !== null){
        <div class="rent_client">
            <p>Rent to client: {{ movie.client?.name }}</p>
            <p>Rented: {{ movie.is_rent }}</p>
            <p>Date: {{ movie.rent_date }}</p>
        </div>

        }
    </div>
    <button (click)="updateMovie(movie.id, name, description)">update</button>
    <button (click)="removeMovie(movie.id)">remove</button>
</div>

} @if(userIsClient()){

<div class="movie">
    <div>
        <p style="display: flex; flex-direction: column">
            <strong class="link" (click)="redirectToDescriptionPage()">{{ movie.name }}</strong>
        </p>

        <div>
            <img
                class="link"
                (click)="redirectToDescriptionPage()"
                [src]="movie.image_url?.trim()"
                (error)="fallback($event)"
                alt=""
            />
        </div>
        <p style="display: flex; flex-direction: column">
            {{ movie?.description }}
        </p>
    </div>
    @if(user !== null){ @if(movieRentedByCurrentUser(movie)){
    <p class="rented_by_user">Rented by you</p>
    <button (click)="returnMovie(movie.id)">return movie</button>
    }@else if(movieIsRented(movie)){
    <p class="not_avaliable">Not available</p>
    } @else {
    <p class="avaliable">Available</p>
    <button (click)="rentMovie(movie.id)">rent movie</button>
    } }
</div>

}
@if (!userIsAdmin() && !userIsClient()) {
<div class="movie">
    <div>
        <p style="display: flex; flex-direction: column">
            <strong class="link" (click)="redirectToDescriptionPage()">{{ movie.name }}</strong>
        </p>

        <div>


            <img
                class="link"
                (click)="redirectToDescriptionPage()"
                [src]="movie.image_url?.trim()"
                (error)="fallback($event)"
                alt=""
            />
        </div>
        <p style="display: flex; flex-direction: column">
            {{ movie?.description }}
        </p>
    </div>
</div>
}
